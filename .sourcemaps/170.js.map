{"version":3,"sources":["../../src/pages/badge-slide/badge-slide.ts","../../src/pages/badge-slide/badge-slide.module.ts"],"names":[],"mappings":"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","file":"170.js","sourcesContent":["import { Component, ViewChild, NgZone } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Events, Slides,Platform } from 'ionic-angular';\nimport { ApiServiceProvider } from '../../providers/api-service/api-service';\nimport { Storage } from '@ionic/storage';\nimport { ImageViewerController } from 'ionic-img-viewer';\nimport { InAppBrowser,InAppBrowserEvent,InAppBrowserOptions } from '@ionic-native/in-app-browser';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-badge-slide',\n  templateUrl: 'badge-slide.html',\n})\nexport class BadgeSlidePage {\n\n  @ViewChild(Slides) slides: Slides;\n  _imageViewerCtrl: ImageViewerController;\n  allData:any[]=[];\n  dataIndex:number=0;\n  totallike: number;\n  totalcomment: number;\n  like_status: number;\n  employeeId: any;\n  login_token: any;\n  deviceId: any;\n  fromMenu:boolean=false;\n  options : InAppBrowserOptions = {\n    location : 'no',\n    hidden : 'no',\n    // clearcache : 'yes',\n    // clearsessioncache : 'yes',\n    zoom : 'yes',\n    hardwareback : 'yes',\n    mediaPlaybackRequiresUserAction : 'no',\n    shouldPauseOnSuspend : 'no',\n    closebuttoncaption : 'Back',\n    closebuttoncolor:'#f04141',\n    disallowoverscroll : 'no',\n    toolbar : 'yes',\n    enableViewportScale : 'no',\n    allowInlineMediaPlayback : 'no',\n    presentationstyle : 'pagesheet',\n    fullscreen : 'yes',\n    footer:'yes',\n    footercolor:'#939399',\n   };\n\n   public unregisterBackButtonAction: any;\n   closeAppPopupShow:number=0;\n  constructor(private storage:Storage,private apiServices:ApiServiceProvider,public events: Events,private ngZone:NgZone,\n    imageViewerCtrl: ImageViewerController,public navCtrl: NavController,private platform:Platform,\n     public navParams: NavParams,private iab: InAppBrowser,) {\n   \n      let i = this.navParams.get('menuRedirect');\n      if(i==1){\n        this.allData[0]=this.navParams.get('data');\n        this.fromMenu = true;\n      }else{this.fromMenu = false;\n        this.allData=this.navParams.get('data');\n        this.dataIndex=this.navParams.get('index');\n        console.log('previousePageData badge slide==', this.allData);\n        console.log('previousePageData badge index==', this.dataIndex);\n      }\n\n      // this.totallike=parseInt(this.allData[this.dataIndex].like_count);\n      // this.totalcomment=parseInt(this.allData[this.dataIndex].comment_count);\n      // this.like_status=parseInt(this.allData[this.dataIndex].like_status);\n      \n    this._imageViewerCtrl = imageViewerCtrl;\n    \n    this.storage.get('employeeId').then(data => {\n      this.employeeId = data;\n      console.log(' employeeId== ', this.employeeId);\n    });\n    this.storage.get('login_token').then((data) => {\n      console.log('showOnBoard value is111==', data);\n      this.login_token = data;\n    });\n\n    this.events.subscribe('updatelikeData', (data) =>{\n      this.ngZone.run(() => {\n      console.log('updatelikeData', data); // ðŸ‘‹ comming form comment page!\n      this.allData[data.index].like_count=data.like;\n      console.log('updatelikeData', this.allData[data.index].like_count); \n      this.allData[data.index].like_status=data.likeStatus;\n      console.log('updatelikeData', this.allData[data.index].likeStatus); \n      console.log('updatelikeData ds', this.allData[data.index]); \n      });\n    });\n    \n\n    this.events.subscribe('updateCommentData', (data) =>{\n      console.log('updateCommentData', data); // ðŸ‘‹ comming form comment page!\n      this.allData[data.index].comment_count=data.comment;\n    });\n\n\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad BadgeSlidePage');\n  }\n\n  seeComments(data,ind){\n    this.navCtrl.push('CommentsPage',{'data':data, 'index':ind, 'commingFrom':'badgeSlidePage'});\n  }\n\n\n\n// this function check every time when slide goes to change\nionSlideDidChange(){\n  this.dataIndex=this.slides.getActiveIndex();\n  console.log('previousePageData badge index==', this.dataIndex);\n  }\n\n\n  likeUnlikeFun(data, index){\n\n    // this.totallike=parseInt(this.allData[this.dataIndex].like_count);\n    // this.totalcomment=parseInt(this.allData[this.dataIndex].comment_count);\n    // this.like_status=parseInt(this.allData[this.dataIndex].like_status);\n\n    console.log('post==', data);\n  if(data.like_status==0){\n    this.allData[index].like_status=1;\n    let increaseLike=parseInt(data.like_count)+1;\n    this.allData[index].like_count=increaseLike;\n    this.doLikeUnlikeFun(increaseLike,this.allData[index].auto_id,1);\n  }else{\n    this.allData[index].like_status=0;\n    let decreaseLike=parseInt(data.like_count)-1;\n    this.allData[index].like_count=decreaseLike;\n    this.doLikeUnlikeFun(decreaseLike,this.allData[index].auto_id,0);\n  }\n  \n  }\n  \n  doLikeUnlikeFun(totalLike,postId,status){\n    this.storage.get('deviceId').then(data => {\n      this.deviceId = data;\n      let apiKey = {\n        \"client_id\":this.apiServices.clientId,\n        \"employee_id\":this.employeeId,\n        \"device\":this.apiServices.device,\n        \"device_id\":this.deviceId,\n        \"app_version\":this.apiServices.appVersion,\n        \"flag\":\"10\",\n        \"post_id\":postId,\n        \"status\":status\n      };\n      this.apiServices.doLikeUnlikeApi(apiKey, this.login_token)\n        .subscribe((res) => {\n          console.log('slide badge res==', res);\n          \n          if(res.success==1){\n  \n          }else{\n  \n          }\n  \n        })\n      })\n  \n  \n  }\n  \n  presentImage(myImage) {\n    const imageViewer = this._imageViewerCtrl.create(myImage);\n    imageViewer.present();\n \n    // setTimeout(() => imageViewer.dismiss(), 30000);\n    imageViewer.onDidDismiss(() => console.log('Viewer dismissed'));\n  }\n\n  handleClick(event) {\n    if (event.target.tagName == \"A\") {\n      this.iab.create(event.target.href, \"_system\", this.options);\n      return false;\n    }\n  }\n\n  ionViewWillEnter(){\n\n    this.initializeBackButtonCustomHandler();\n    }\n   \n\n  ionViewWillLeave() {\n    this.unregisterBackButtonAction && this.unregisterBackButtonAction();\n  }\n\n\n  //Hardware Back Button\n\n  initializeBackButtonCustomHandler(): void {\n    let that = this;\n    this.unregisterBackButtonAction = this.platform.registerBackButtonAction(function (event) {\n  \n      // that.navCtrl.popToRoot();\n      that.navCtrl.pop();\n    }, 101); // Priority 101 will override back button handling (we set in app.component.ts) as it is bigger then priority 100 configured in app.component.ts file */\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/badge-slide/badge-slide.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { BadgeSlidePage } from './badge-slide';\nimport { IonicImageViewerModule } from 'ionic-img-viewer';\n\n@NgModule({\n  declarations: [\n    BadgeSlidePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(BadgeSlidePage),IonicImageViewerModule\n  ],\n})\nexport class BadgeSlidePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/badge-slide/badge-slide.module.ts"],"sourceRoot":""}