{"version":3,"sources":["../../src/pages/onboarding_forms/common_folder/declarationotp/declarationotp.ts","../../src/pages/onboarding_forms/common_folder/declarationotp/declarationotp.module.ts"],"names":[],"mappings":"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","file":"78.js","sourcesContent":["import { Component } from \"@angular/core\";\nimport {\n  IonicPage,\n  NavController,\n  NavParams,\n  ToastController,\n  AlertController,\n  LoadingController,\n  Platform,\n  MenuController\n} from \"ionic-angular\";\nimport { ApiServiceProvider } from \"../../../../providers/api-service/api-service\";\nimport { Storage } from \"@ionic/storage\";\nimport {\n  InAppBrowser,\n  InAppBrowserEvent,\n  InAppBrowserOptions\n} from \"@ionic-native/in-app-browser\";\n\n@IonicPage()\n@Component({\n  selector: \"page-declarationotp\",\n  templateUrl: \"declarationotp.html\"\n})\nexport class DeclarationotpPage {\n  otpdata: any;\n  form_data: any;\n  show_skip: any;\n  loading: any;\n  walkthrough: any;\n  profile_pic_upload: any;\n  profilekey: any;\n  tanckey: any;\n  tncData: any;\n  myotp4: any = \"\";\n  myotp3: any = \"\";\n  myotp2: any = \"\";\n  myotp1: any = \"\";\n  apiKey: any;\n  deviceId: any;\n  login_token: any;\n  employeeId: any;\n  employee_type: any;\n  mobileNumer: any = \"\";\n  resendOTPText: any = \"Resend\";\n  resendBtnDisable: boolean = false;\n\n  submitBtnText: any = \"Submit\";\n  submitBtnDisable: boolean = false;\n  page_title: string;\n  msgdata: any;\n  constructor(\n    private alertCtrl: AlertController,\n    private platform: Platform,\n    private menu: MenuController,\n    public loadingCtrl: LoadingController,\n    public toastCtrl: ToastController,\n    private storage: Storage,\n    private apiServices: ApiServiceProvider,\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private iab: InAppBrowser\n  ) {\n    this.form_data = this.navParams.get(\"form_data\");\n    this.page_title = this.form_data.form_name;\n    this.otpdata = this.navParams.get(\"otpdata\");\n    this.storage.get(\"login_token\").then(data => {\n      this.login_token = data;\n    });\n    this.storage.get(\"employeeId\").then(data => {\n      this.employeeId = data;\n    });\n    this.msgdata=this.navParams.get('msgdata');\n  }\n\n  moveFocus(nextElement, val, index) {\n    if (index < 4) {\n      if (this.myotp2 == undefined || this.myotp2 == \"\") {\n        nextElement.setFocus();\n      } else if (this.myotp3 == undefined || this.myotp3 == \"\") {\n        nextElement.setFocus();\n      } else if (this.myotp4 == undefined || this.myotp4 == \"\") {\n        nextElement.setFocus();\n      }\n    } else {\n    }\n  }\n\n  checkFocus(index) {\n    console.log(\"********\", index);\n    if (index == 1) {\n      this.myotp1 = \"\";\n    } else if (index == 2) {\n      this.myotp2 = \"\";\n    } else if (index == 3) {\n      this.myotp3 = \"\";\n    } else if (index == 4) {\n      this.myotp4 = \"\";\n    }\n  }\n\n  resendOTP() {\n    this.resendOTPText = \"Please wait...\";\n    this.resendBtnDisable = true;\n\n    this.commonLoader();\n    //   this.dumpdata={\"nationalities\":this.nationalities,\"selected\":this.finalselect,\"Details1\":this.nDetails,\n    // \"Details2\":this.fDetails}\n    this.storage.get(\"deviceId\").then(data => {\n      this.deviceId = data;\n      let apiKey = {\n        client_id: this.apiServices.clientId,\n        employee_id: this.employeeId,\n        device: this.apiServices.device,\n        device_id: this.deviceId,\n        app_version: this.apiServices.appVersion,\n        data_dump: \"\",\n        otp_id: this.otpdata\n      };\n      this.apiServices.get_declaration_otp(apiKey, this.login_token).subscribe(\n        res => {\n          console.log(\"tnc res==\", res);\n          this.loading.dismiss();\n          if (res.success == 1) {\n            console.log(\"succ\");\n            this.resendOTPText = \"Resend\";\n            this.resendBtnDisable = false;\n          } else {\n            this.apiMessage(res.message);\n          }\n        },\n        err => {\n          this.loading.dismiss();\n          console.log(\"err== \", err);\n          this.apiMessage(err);\n        }\n      );\n    });\n  }\n\n  //Common Loader:\n  commonLoader() {\n    this.loading = this.loadingCtrl.create({\n      enableBackdropDismiss: true,\n      spinner: \"ios-small\",\n      content: \"Loading data...\"\n    });\n    this.loading.present();\n  }\n  apiMessage(message) {\n    const toast = this.toastCtrl.create({\n      message: message,\n      duration: 3000\n    });\n    toast.present();\n  }\n\n  submitOtp() {\n    this.submitBtnText = \"Please wait...\";\n    this.submitBtnDisable = true;\n\n    if (\n      this.myotp1 == \"\" ||\n      this.myotp2 == \"\" ||\n      this.myotp3 == \"\" ||\n      this.myotp4 == \"\"\n    ) {\n      // show alert of mandatory field\n      this.apiMessage(\"all fields are mandatory\");\n\n      this.submitBtnText = \"Submit\";\n      this.submitBtnDisable = false;\n    } else {\n      let finalOTP =\n        this.myotp1 + \"\" + this.myotp2 + \"\" + this.myotp3 + \"\" + this.myotp4;\n\n      this.storage.get(\"employeeId\").then(data => {\n        this.employeeId = data;\n        console.log(\" employeeId== \", this.employeeId);\n      });\n      this.storage.get(\"login_token\").then(data => {\n        console.log(\"showOnBoard value is111==\", data);\n        this.login_token = data;\n      });\n      this.storage.get(\"deviceId\").then(data => {\n        this.deviceId = data;\n\n        this.apiKey = {\n          client_id: this.apiServices.clientId,\n          employee_id: this.employeeId,\n          device: this.apiServices.device,\n          device_id: this.deviceId,\n          app_version: this.apiServices.appVersion,\n          otp: finalOTP,\n          form_id: this.form_data.form_id,\n          group_id: this.form_data.group_id\n        };\n\n        this.apiServices\n          .submit_form_declaration(this.apiKey, this.login_token)\n          .subscribe(\n            res => {\n              console.log(\"otp\", res);\n\n              if (res.success == 1) {\n                this.navCtrl.popTo(\n                  this.navCtrl.getByIndex(this.navCtrl.length() - 3)\n                );\n                this.submitBtnText = \"Submit\";\n                this.submitBtnDisable = false;\n              } else {\n                this.apiMessage(res.message);\n\n                this.submitBtnText = \"Submit\";\n                this.submitBtnDisable = false;\n              }\n            },\n            err => {\n              console.log(\"err== \", err);\n              this.apiMessage(err);\n            }\n          );\n      });\n    }\n  }\n\n  ionViewDidLoad() {\n    console.log(\"ionViewDidLoad DeclarationotpPage\");\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/onboarding_forms/common_folder/declarationotp/declarationotp.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { DeclarationotpPage } from './declarationotp';\n\n@NgModule({\n  declarations: [\n    DeclarationotpPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(DeclarationotpPage),\n  ],\n})\nexport class DeclarationotpPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/onboarding_forms/common_folder/declarationotp/declarationotp.module.ts"],"sourceRoot":""}